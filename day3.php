<?php

$items = [
	"......#..........##......#.####",
	".##...###....#.....#...#.#.....",
	"#..##..#.....#............#.#.#",
	"##.#....#####..#....#..#.#.....",
	"..#.#...##.##.......#.#..#..##.",
	"##.#.......#.#.#..#...#.#...#..",
	"...#...#..#.##....##..#.#......",
	".......##.#.#.#.##...#.........",
	"..#...##.##...##..##.##...#....",
	".#.#...#.....####..#.#...#.##..",
	".#...#......##......##....#....",
	"..#.....#.........##.#...#.#...",
	"...#.#...#..##...#....#.....##.",
	"..#.....#..#..#......###.......",
	"...##.#....##..##...........#..",
	"....#......#..#....###...#.....",
	".....#...#.#.....#..##........#",
	"....#...#....##.#.##.#...#..#.#",
	".......##.#......##....#....#..",
	"...#.#...##..#...#..#..#..##.#.",
	"##.#...#..#..................##",
	"##........#....##...#..#..#....",
	".#.#..............#######.##...",
	"##..#..#.#.##..#...............",
	"..#........#..#...##.......#...",
	"............##.##.#..........##",
	".....##..#.....##..#.....#.....",
	"..#.##.###.#..##.............#.",
	".........##...........#.....#..",
	"..#....#.#.###.#.#.......##....",
	"..###..##..#.#.##......#.#.##..",
	"##......#.#....##.#..#.#..#.#.#",
	"..##.#.###.#...#...............",
	"..####.......#...#.##....#.....",
	"..#....##...#.#.#.#....#.##..##",
	".#...####..###....#.###...##...",
	"..#.#..........#.#..#..#.....##",
	".#....#.........###...#.....##.",
	"..#.#.#.##........#.##.#.....#.",
	"#....#....###...#..#.........#.",
	"#..#.###....#..............#...",
	"............#....##.#......#.#.",
	"...#..#.####...............##..",
	"....##......#.#.........####..#",
	".#....###..#.#..##........##...",
	"#..##.....###..#...............",
	"..#...........#........#...#..#",
	"......................#.#..#...",
	".#.##.#..#.#....#...#...#.#....",
	"..#..#.........#..#.#..........",
	".#......#####...#......#..#....",
	"..........#.....#..#.##.####.##",
	"##.##..#............#####...#.#",
	"..##..#..###......#...#...#....",
	"....#####........#.##...###....",
	"......#...##..#..#............#",
	"...#....##.##...#..#...#.......",
	"....#####.#...............###..",
	".#....#..##....#.#.#..##.##...#",
	"...#..#..#........#.#####.....#",
	"......##.#...#..#..#.....#..###",
	"###.......#.#........#......#.#",
	"..#.#..#..#........#..#......#.",
	"...##.........#..........#.....",
	"...#..###.#.......#.#.........#",
	"....#..#.##...##.....#.....##..",
	"#.#.#.#.....##.##.###..#.#....#",
	"..#....#.....##.####..#........",
	"...#..#.##.....##.#..#....###..",
	".#..#.....#....#...#.#.......##",
	"..#..#.......#.#.###......#.##.",
	".###.####....##............##.#",
	"#....###.#......##.#......##.#.",
	".##...........#.#....#.........",
	"#.##..##...#...........###....#",
	"#.#..#...#.#..#..###.#.##...#..",
	"..#...#.#..##....#..#..#.......",
	"#..##..#.####...#...#..####.##.",
	"###..#.##....#...#.###..##...##",
	"##..#..#.#....#.....##.......#.",
	"..#..##.##.#.......###.#.....#.",
	"..........#.####....#.......#..",
	"#...#.#..#.......##......##..##",
	"##...##.##..###...............#",
	"....##.#...#.......##...##..#..",
	".#.........#...#.#...##.#.....#",
	".#...#.#..#...#..##....#..#...#",
	".#.#...#..#..###...##....#.....",
	".........#.#...####..#...#.#...",
	"...#.............#.#..........#",
	"...#...#..##.#........#.#......",
	"...#...#.....#....#..###.##.###",
	".#.#........#....#...#.###.#.#.",
	"##.....#.......#..##.#....#..##",
	"...###...#.#.#.#....#.#....#...",
	"#...#.#.......##.#..#....#.#...",
	"#...#......###.....###........#",
	"..#.##...##....#...#....#.#....",
	"#....#..###....##.#......##...#",
	"##.#...#..........#.##....#..#.",
	".##....#............###.#...#..",
	"###.##.#####.##.....##..#####..",
	"..###.###.......#.#...#....#...",
	".#...#....####.........#.......",
	"..##.#.#......#....#.#....#.#.#",
	"#.####.....#....#..#.....#.##..",
	"###.###.##...##.#.#.#.....#.#..",
	".......#.....#.......##.#.....#",
	"#..#.##...#........#.#.......##",
	"#.#........#...#....#..........",
	"..#....##.#......#..#..........",
	"#....##.....#.....#.##.#...#...",
	"....#.#.....#....####...#.#.##.",
	"......#.......##...##.#......#.",
	".#.........##...#..#..##..#....",
	".#...##.....##.#....#..........",
	"....#.###..##..#...#..........#",
	"......#...#.#.#........##......",
	".#..........#.#.....#..##..#.#.",
	".......###.#......#....#.#..#..",
	"..##.......#....#....#.#...##.#",
	"#.##.#.......#..###..##...#.#..",
	"......####....#.#.....#...#..#.",
	"#.##.###..#..#.#.....###..#.#.#",
	"#.#.#..#.#..##...#...#..##.###.",
	"....##..##.#...............#.#.",
	"..###.#.#.##..#....##.......#..",
	"#.#....#..........##......#####",
	".#.#.......##.#.#......##..#.#.",
	"......#.###.##.#..#....#.##....",
	"..###........#.......##.#.#....",
	".#..##.............#.##.###...#",
	".#####...#......#.......##.....",
	"##..###.#...#....#..#....#.#..#",
	".#.........###.##.....##.....##",
	".##.#....#..#.#..##..#....##...",
	".#..#..#......###...#.......#..",
	"#.#...#.....#..#.#.#..#..###...",
	"....#....#..#..#....#..#.#.#...",
	"......#.......#.#.#.#.....#....",
	"###...#...#......#..#.#.#..#.#.",
	"#...##.##.##........##....#....",
	".....#.......#...#...#.#.#....#",
	"...##.....##.#...#.#.#.#..#..#.",
	".#.......##...........#...#.##.",
	".##..........#......#.#...###..",
	".....##...#.....#...#......#...",
	"...........#.....#..#...#..#.#.",
	"#.....##..#...........##....#..",
	"#.##...###.###....##..#..#....#",
	"#.#.##...##....###....##.##....",
	".#..###.....#......#...#...#..#",
	"..#...#....#.#.###.#..#......#.",
	"......#.........#..#.##...#...#",
	"..#.#....##.#..##..##...#....#.",
	"#.....#....##.........##.#.....",
	"...#...#..###.###......##...###",
	".##.###...##..#.##....##.#..#..",
	"..#..#.......#................#",
	".....#..#.#.#..........##..#...",
	"......###.#.#............#..#.#",
	"..#.##.....##....#...#...#.#...",
	"..#......##...#...##........#..",
	"#.....#.....#..#......#.###...#",
	"....#..#.#.....#...#....#.#...#",
	"#.......#..#...##..#.#..#.##...",
	"..#......###...#.........##...#",
	"...#.......##.....#..##........",
	".#....#.#.....##.#.#...........",
	"##..#..#...#.##.#.#.#.#.#..##.#",
	"##...####.#.#.##...#..#......#.",
	"#.##..####.##.#.........#...###",
	"#...#.......#.#..####.#.#.#....",
	"#....#........#........#.......",
	"..#..####.....#....##...###.##.",
	"...#.#..####.........#....#.##.",
	"##.#...#...#..#.#..##.....##...",
	"....#.........#.##........##.#.",
	"##...#......#....#..#....#....#",
	"###.....#......##...#...##...#.",
	"#.##...............#.......#...",
	".##.#...#..#....#.#.....###..#.",
	".....##...#.##.....##...#....#.",
	"#.#..#..........#####..##......",
	"..#.........##...#.........#.##",
	"...#..##.#.#..#......#..###.###",
	"#..#...#.#...##..........#.....",
	".###..#....###.....#....#..###.",
	"#..#....#...#........##.....#..",
	".#..###........#....#..####..##",
	".#..#.#.#.......##.#..##.#..##.",
	"..#..###......##....#..#..#..#.",
	".......###..##....#......#...##",
	"#........#.##.............##.#.",
	"...#.#.#....##....##.###...#...",
	"..#.....#..##..#.#.......#.####",
	".#......##.........##...#.....#",
	".#.###........##....###.#.#...#",
	"##...#.#....#.....##.......#..#",
	"#...........#...........####...",
	"#..#.#..##..#...#....#.##....#.",
	"................##.............",
	"..##...#.#....##....#...#......",
	".#.....#....#....#..#..#.#..##.",
	".....######.#.#.##.###.#.......",
	"..#####....#..#...........#.#..",
	".......#..#..##.#...###.#.#.###",
	"###...#...#..##.#.##..#...#..#.",
	".#..#..............#...........",
	".#.....#.....##....#....##..#..",
	"....#####.#....#......#.......#",
	".#.#.....##.####..#...#.......#",
	".#...##.#.......#.....##.#..##.",
	"..........#...#....###....#...#",
	"..#......#...#...#..#.#........",
	".......#.......#..####..##.....",
	".#..#.....###...#...#...#...#..",
	"##..#.......#.#...#..#..#.##..#",
	"#..#...#.#.....#.##.#........#.",
	"......#......#.#..###.##..###..",
	".#..#..#.##.#...........#...##.",
	".#....#...#.#..#.#.#...##.#..#.",
	"##.#....#..#..#.#...#......#.#.",
	"..#.#............##...#........",
	"...####...#...#.....##..#...###",
	"....###.......###.##..#.###....",
	"#......#.#....#.#.##.#.##..###.",
	".....##.....#..##.....##....#..",
	"..#...#..##.#.##.#.#.#.......##",
	"#....#..##.......#......#..#.##",
	"#.....##...#..##......##.#.#..#",
	"....#..##..#.##...#.#.##..#..##",
	"#..#...##....##..#...#....#...#",
	".##.#.#....#.....#........##.#.",
	"..##..#....#........#.....#....",
	".##.#..##...#.....#...###.....#",
	"#..#..#........#..#.....#.#.#.#",
	"..##..###.#..#...#.#......#..#.",
	"#.....#.....#.###......##..#.#.",
	".........#...##.........#...#..",
	".##.#.##......#.#...###..#....#",
	"...##.#..###........##......#..",
	"...#.#...#......#.#.#....#..#..",
	"..####.........#..#....#.......",
	"#..#.........##.#.##....#.....#",
	"..#..#..#.#........#.###.......",
	"##.#..#..#....#...##.......#..#",
	"..#.#.....#.............#...##.",
	"..........#...##.....#..#.#..#.",
	"....#..#...#..##..#...##.#.....",
	"##....#......#..#.....#..#.....",
	"...#.#.#.#...........##...#.#..",
	"....#.###...#............#.....",
	".#.#.#.......#.#......#....#.#.",
	"#.#.#.#..##.#..#..##...##.#..#.",
	".#.##....##..#........#....#...",
	"####...#....#.#...#..#..###...#",
	".....#.#.##.......##..#.######.",
	".......#.#.#.....#.#..##....#..",
	"..#....#.#..#.#.#..#..#........",
	".....##......#.........#.#...##",
	"#....##.#.....#..........#.#...",
	"#...#.#..#.#..#.#....#..#.#....",
	"....##........#................",
	"###.#.#...#..##...#...#.##...#.",
	"...#....###..#..##..#..#.......",
	".....#..........#.#........##.#",
	".#........#.##.#..##..#...#...#",
	"..##....#...#.#.........##.#...",
	"......#...#......#.....#.......",
	"....##.##..#.##...#.#.#.##.#.#.",
	"..#...#.....#.#....##.#........",
	".#.#.......#.......###..#..#...",
	"#...#..#..#..##....#...#.....#.",
	".#..####.##.....##.........#.#.",
	"#...###.......#...####..##.....",
	"#.##.#....#.#.##.......#...#...",
	"..#.......#.#.##.##..#...##....",
	".#.......#.#..#.....#.....#.#..",
	"..#..#.......##.....#.#.....#.#",
	"#...###..#..#..##...#.....#..##",
	"......#................#.......",
	"..#.....##..#.......#...#...##.",
	"...##...####.#..#...#.......##.",
	"..#...#..#...#...#..#..#####...",
	"#..#...#....#....#...........#.",
	"..#.......#..#.##...##..###...#",
	".#..#..#......##...#....#......",
	"...#..##....#..........#.....#.",
	"###...#.#......#.#.....#.....##",
	"#.#..#.....#........#.##.#.##..",
	"....#...#.....#..#.......#.#...",
	"#.#...##....#..#.....#...#.#.#.",
	".#......#...##..#.......#......",
	"...#...#.#.#.###.#..#.#..#.....",
	"###...#..###.#...#..##...####..",
	".#.#.#..#........#..#......#..#",
	".#..#....#......#....#.#...#...",
	".##..........###...##.....#.#..",
	".#...#.#.##.##..###.#...#..###.",
	"......#......#......#.##......#",
	"..#.##..#.#..#....##..##...#...",
	".#......#..#...##....#...#.....",
	".#.....#.##..........#..#......",
	"###.#..#.##..#..##...#..#...#..",
	"#.....###........#.#..##.#.....",
	".....#.......##.....##.....#.##",
	"...##.#......####....##........",
	"..#..#..#....#.##.....##.####..",
	"...#..#....#.#..#.#..#.#.#..#..",
	"#..........#....#.#.#.#...#..#.",
	"...####.##...#..#.......#.#..##",
	"#........#..#..................",
	".#..#....#.#.#..#..........#...",
	"###...#....####....#......#..#.",
	"#.........####..#..#...........",
	".....##..#..##.##.##.#..#.....#",
	".#..#.#.##..#..#.#.#.##.###....",
	"......##......#...#.##....#..#.",
	".#.#....#..#......#..#...###...",
	".##...#......##...###...#.#...#",
	".......#.#....#............#..#",
	".#..##.#.######...#...#......#.",
];

echo "<h1>Part 1</h1>";

$nbTrees = 0;

$x = 0;
foreach ($items as $item) {
	$c = substr($item,$x,1);
	
	if ($c == "#") {
		$nbTrees++;
	}
	
	$x += 3;
	if ($x >= strlen($item)) {
		$x -= strlen($item);
	}
}

echo $nbTrees."<br />";



echo "<h1>Part 2</h1>";

$results = [];

$incs = [1,3,5,7];

foreach ($incs as $inc) {
	$nbTrees = 0;
	
	$x = 0;
	foreach ($items as $item) {
		$c = substr($item,$x,1);
		
		if ($c == "#") {
			$nbTrees++;
		}
		
		$x += $inc;
		if ($x >= strlen($item)) {
			$x -= strlen($item);
		}
	}
	
	$results[] = $nbTrees;
}

$nbTrees = 0;
$x = 0;
$i = 0;
foreach ($items as $item) {
	$i++;
	if ($i%2==0) {
		continue;
	}
	$c = substr($item,$x,1);
	
	if ($c == "#") {
		$nbTrees++;
	}
	
	$x += 1;
	if ($x >= strlen($item)) {
		$x -= strlen($item);
	}
}

$results[] = $nbTrees;

print_r($results);

$result = 1;

foreach ($results as $r) {
	$result *= $r;
}

echo $result."<br />";
